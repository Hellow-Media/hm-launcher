https://extensions.turbowarp.org/Lily/MoreEvents.js
data:application/javascript,%2F%2F%20Name%3A%20Gamepad%20Expanded%0A%2F%2F%20ID%3A%20Gamepad%0A%2F%2F%20Description%3A%20Directly%20access%20gamepads%20instead%20of%20just%20mapping%20buttons%20to%20keys.%0A%0A%2F%2F%20Some%20parts%20of%20this%20scripts%20are%20based%20on%20or%20designed%20to%20be%20compatible-ish%20with%3A%0A%2F%2F%20https%3A%2F%2Farpruss.github.io%2Fgamepad.js%20(MIT%20Licensed)%0A%0A(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%0A%20%20var%20AXIS_DEADZONE%20%3D%200.1%3B%0A%20%20var%20BUTTON_DEADZONE%20%3D%200.05%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7Bnumber%7C'any'%7D%20index%201-indexed%20index%0A%20%20%20*%20%40returns%20%7BGamepad%5B%5D%7D%0A%20%20%20*%2F%0A%20%20const%20getGamepads%20%3D%20(index)%20%3D%3E%20%7B%0A%20%20%20%20if%20(index%20%3D%3D%3D%20%22any%22)%20%7B%0A%20%20%20%20%20%20return%20navigator.getGamepads().filter((i)%20%3D%3E%20i)%3B%0A%20%20%20%20%7D%0A%20%20%20%20const%20gamepad%20%3D%20navigator.getGamepads()%5Bindex%20-%201%5D%3B%0A%20%20%20%20if%20(gamepad)%20%7B%0A%20%20%20%20%20%20return%20%5Bgamepad%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20%5B%5D%3B%0A%20%20%7D%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7BGamepad%7D%20gamepad%0A%20%20%20*%20%40param%20%7Bnumber%7C'any'%7D%20buttonIndex%201-indexed%20index%0A%20%20%20*%20%40returns%20%7Bboolean%7D%20false%20if%20button%20does%20not%20exist%0A%20%20%20*%2F%0A%20%20const%20isButtonPressed%20%3D%20(gamepad%2C%20buttonIndex)%20%3D%3E%20%7B%0A%20%20%20%20if%20(buttonIndex%20%3D%3D%3D%20%22any%22)%20%7B%0A%20%20%20%20%20%20return%20gamepad.buttons.some((i)%20%3D%3E%20i.pressed)%3B%0A%20%20%20%20%7D%0A%20%20%20%20const%20button%20%3D%20gamepad.buttons%5BbuttonIndex%20-%201%5D%3B%0A%20%20%20%20if%20(!button)%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20button.pressed%3B%0A%20%20%7D%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7BGamepad%7D%20gamepad%0A%20%20%20*%20%40param%20%7Bnumber%7D%20buttonIndex%201-indexed%20index%0A%20%20%20*%20%40returns%20%7Bnumber%7D%200%20if%20button%20does%20not%20exist%0A%20%20%20*%2F%0A%20%20const%20getButtonValue%20%3D%20(gamepad%2C%20buttonIndex)%20%3D%3E%20%7B%0A%20%20%20%20const%20button%20%3D%20gamepad.buttons%5BbuttonIndex%20-%201%5D%3B%0A%20%20%20%20if%20(!button)%20%7B%0A%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%7D%0A%20%20%20%20const%20value%20%3D%20button.value%3B%0A%20%20%20%20if%20(value%20%3C%20BUTTON_DEADZONE)%20%7B%0A%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20value%3B%0A%20%20%7D%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7BGamepad%7D%20gamepad%0A%20%20%20*%20%40param%20%7Bnumber%7D%20axisIndex%201-indexed%20index%0A%20%20%20*%20%40returns%20%7Bnumber%7D%200%20if%20axis%20does%20not%20exist%0A%20%20%20*%2F%0A%20%20const%20getAxisValue%20%3D%20(gamepad%2C%20axisIndex)%20%3D%3E%20%7B%0A%20%20%20%20const%20axisValue%20%3D%20gamepad.axes%5BaxisIndex%20-%201%5D%3B%0A%20%20%20%20if%20(typeof%20axisValue%20!%3D%3D%20%22number%22)%20%7B%0A%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(Math.abs(axisValue)%20%3C%20AXIS_DEADZONE)%20%7B%0A%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20axisValue%3B%0A%20%20%7D%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7BGamepad.id%7D%20id%0A%20%20%20*%20%40returns%20%7Bstring%7D%0A%20%20%20*%2F%0A%20%20const%20matchVendor%20%3D%20(id)%20%3D%3E%20%7B%0A%20%20%20%20return%20id.match(%2Fvendor%3A%5Cs*(%5Cw%2B)%2Fi)%5B1%5D%3B%0A%20%20%7D%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7BGamepad.id%7D%20id%0A%20%20%20*%20%40returns%20%7Bstring%7D%0A%20%20%20*%2F%0A%20%20const%20matchProduct%20%3D%20(id)%20%3D%3E%20%7B%0A%20%20%20%20return%20id.match(%2Fproduct%3A%5Cs*(%5Cw%2B)%2Fi)%5B1%5D%3B%0A%20%20%7D%3B%0A%0A%20%20class%20GamepadExtension%20%7B%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20%22Gamepad%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20%22Gamepad%20Extended%22%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22gamepadConnected%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22gamepad%20%5Bpad%5D%20connected%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20pad%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22padMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'gamepadDetail'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'get%20%5Bd%5D%20of%20pad%20%5Bi%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20d%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'id'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'detailMenu'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'1'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'padMenu'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22buttonDown%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22button%20%5Bb%5D%20on%20pad%20%5Bi%5D%20pressed%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20b%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22buttonMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22padMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22buttonValue%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22value%20of%20button%20%5Bb%5D%20on%20pad%20%5Bi%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20b%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22buttonMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22padMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22axisValue%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22value%20of%20axis%20%5Bb%5D%20on%20pad%20%5Bi%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20b%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22axisMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22padMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22axisDirection%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22direction%20of%20axes%20%5Baxis%5D%20on%20pad%20%5Bpad%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20axis%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22axesGroupMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20pad%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22padMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22axisMagnitude%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22magnitude%20of%20axes%20%5Baxis%5D%20on%20pad%20%5Bpad%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20axis%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22axesGroupMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20pad%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22padMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%2F*%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'buttonPressedReleased'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.EVENT%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'button%20%5Bb%5D%20%5Bpr%5D%20of%20pad%20%5Bi%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20b%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'1'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20pr%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'1'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'pressReleaseMenu'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'1'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'padMenu'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'axisMoved'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.EVENT%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'axis%20%5Bb%5D%20of%20pad%20%5Bi%5D%20moved'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20b%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'1'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'1'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'padMenu'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20*%2F%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22rumble%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22rumble%20strong%20%5Bs%5D%20and%20weak%20%5Bw%5D%20for%20%5Bt%5D%20sec.%20on%20pad%20%5Bi%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20s%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%220.25%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20w%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%220.5%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20t%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%220.25%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22padMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%09%7B%0A%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deadzone%22%2C%0A%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20axis%20deadzone%20to%20%5Bi%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20i%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%220.1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%09%7B%0A%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deadzoneButton%22%2C%0A%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20button%20deadzone%20to%20%5Bi%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20i%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%220.05%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%09%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getdeadzone%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22get%20axis%20deadzone%22%2C%20%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getdeadzoneButton%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22get%20button%20deadzone%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20padMenu%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22any%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22any%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%222%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%222%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%223%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%223%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%224%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%224%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20detailMenu%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B'id'%2C%20'vendor'%2C%20'product'%2C%20'mapping'%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20buttonMenu%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Based%20on%20an%20Xbox%20controller%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22any%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22any%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22A%20(1)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22B%20(2)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%222%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22X%20(3)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%223%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Y%20(4)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%224%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Left%20bumper%20(5)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%225%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Right%20bumper%20(6)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%226%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Left%20trigger%20(7)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%227%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Right%20trigger%20(8)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%228%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Select%2FView%20(9)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%229%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Start%2FMenu%20(10)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%2210%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Left%20stick%20(11)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%2211%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Right%20stick%20(12)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%2212%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22D-pad%20up%20(13)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%2213%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22D-pad%20down%20(14)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%2214%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22D-pad%20left%20(15)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%2215%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22D-pad%20right%20(16)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%2216%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20axisMenu%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Based%20on%20an%20Xbox%20controller%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Left%20stick%20horizontal%20(1)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Left%20stick%20vertical%20(2)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%222%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Right%20stick%20horizontal%20(3)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%223%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Right%20stick%20vertical%20(4)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%224%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20axesGroupMenu%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Based%20on%20an%20Xbox%20controller%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Left%20stick%20(1%20%26%202)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Right%20stick%20(3%20%26%204)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%223%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%2F*%0A%20%20%20%20%20%20%20%20%20%20pressReleaseMenu%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'press'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'release'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20*%2F%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20gamepadConnected(%7B%20pad%20%7D)%20%7B%0A%20%20%20%20%20%20return%20getGamepads(pad).length%20%3E%200%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20gamepadDetail%20(%7Bd%2C%20i%7D)%20%7B%0A%20%20%20%20%20%20for%20(const%20gamepad%20of%20getGamepads(i))%20%7B%0A%20%20%20%20%20%20%20%20switch%20(d)%20%7B%0A%20%20%20%20%20%20%20%20%20%20case%20'mapping'%3A%20return%20gamepad.mapping%3B%0A%20%20%20%20%20%20%20%20%20%20case%20'vendor'%3A%20return%20matchVendor(gamepad.id)%3B%0A%20%20%20%20%20%20%20%20%20%20case%20'product'%3A%20return%20matchProduct(gamepad.id)%3B%0A%20%20%20%20%20%20%20%20%20%20case%20'id'%3A%20return%20gamepad.id%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20'not%20connected'%3B%0A%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%20%20%20%20buttonDown(%7B%20b%2C%20i%20%7D)%20%7B%0A%20%20%20%20%20%20for%20(const%20gamepad%20of%20getGamepads(i))%20%7B%0A%20%20%20%20%20%20%20%20if%20(isButtonPressed(gamepad%2C%20b))%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20buttonValue(%7B%20b%2C%20i%20%7D)%20%7B%0A%20%20%20%20%20%20let%20greatestButton%20%3D%200%3B%0A%20%20%20%20%20%20for%20(const%20gamepad%20of%20getGamepads(i))%20%7B%0A%20%20%20%20%20%20%20%20const%20value%20%3D%20getButtonValue(gamepad%2C%20b)%3B%0A%20%20%20%20%20%20%20%20if%20(value%20%3E%20greatestButton)%20%7B%0A%20%20%20%20%20%20%20%20%20%20greatestButton%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20greatestButton%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20axisValue(%7B%20b%2C%20i%20%7D)%20%7B%0A%20%20%20%20%20%20let%20greatestAxis%20%3D%200%3B%0A%20%20%20%20%20%20for%20(const%20gamepad%20of%20getGamepads(i))%20%7B%0A%20%20%20%20%20%20%20%20const%20axis%20%3D%20getAxisValue(gamepad%2C%20b)%3B%0A%20%20%20%20%20%20%20%20if%20(Math.abs(axis)%20%3E%20Math.abs(greatestAxis))%20%7B%0A%20%20%20%20%20%20%20%20%20%20greatestAxis%20%3D%20axis%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20greatestAxis%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20axisDirection(%7B%20axis%2C%20pad%20%7D)%20%7B%0A%20%20%20%20%20%20let%20greatestMagnitude%20%3D%200%3B%0A%20%20%20%20%20%20let%20direction%20%3D%2090%3B%0A%20%20%20%20%20%20for%20(const%20gamepad%20of%20getGamepads(pad))%20%7B%0A%20%20%20%20%20%20%20%20const%20horizontalAxis%20%3D%20getAxisValue(gamepad%2C%20axis)%3B%0A%20%20%20%20%20%20%20%20const%20verticalAxis%20%3D%20getAxisValue(gamepad%2C%20%2Baxis%20%2B%201)%3B%0A%20%20%20%20%20%20%20%20const%20magnitude%20%3D%20Math.sqrt(horizontalAxis%20**%202%20%2B%20verticalAxis%20**%202)%3B%0A%20%20%20%20%20%20%20%20if%20(magnitude%20%3E%20greatestMagnitude)%20%7B%0A%20%20%20%20%20%20%20%20%20%20greatestMagnitude%20%3D%20magnitude%3B%0A%20%20%20%20%20%20%20%20%20%20direction%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20(Math.atan2(verticalAxis%2C%20horizontalAxis)%20*%20180)%20%2F%20Math.PI%20%2B%2090%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(direction%20%3C%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20direction%20%2B%3D%20360%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20direction%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20axisMagnitude(%7B%20axis%2C%20pad%20%7D)%20%7B%0A%20%20%20%20%20%20let%20greatestMagnitude%20%3D%200%3B%0A%20%20%20%20%20%20for%20(const%20gamepad%20of%20getGamepads(pad))%20%7B%0A%20%20%20%20%20%20%20%20const%20horizontalAxis%20%3D%20getAxisValue(gamepad%2C%20axis)%3B%0A%20%20%20%20%20%20%20%20const%20verticalAxis%20%3D%20getAxisValue(gamepad%2C%20%2Baxis%20%2B%201)%3B%0A%20%20%20%20%20%20%20%20const%20magnitude%20%3D%20Math.sqrt(horizontalAxis%20**%202%20%2B%20verticalAxis%20**%202)%3B%0A%20%20%20%20%20%20%20%20if%20(magnitude%20%3E%20greatestMagnitude)%20%7B%0A%20%20%20%20%20%20%20%20%20%20greatestMagnitude%20%3D%20magnitude%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20greatestMagnitude%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20rumble(%7B%20s%2C%20w%2C%20t%2C%20i%20%7D)%20%7B%0A%20%20%20%20%20%20const%20gamepads%20%3D%20getGamepads(i)%3B%0A%20%20%20%20%20%20for%20(const%20gamepad%20of%20gamepads)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0A%20%20%20%20%20%20%20%20if%20(gamepad.vibrationActuator)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0A%20%20%20%20%20%20%20%20%20%20gamepad.vibrationActuator.playEffect(%22dual-rumble%22%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20startDelay%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20duration%3A%20t%20*%201000%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20weakMagnitude%3A%20w%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20strongMagnitude%3A%20s%2C%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20%0A%0A%20%20%20%20deadzone(%7B%20i%20%7D)%20%7B%0A%20%20%20%20%20%20AXIS_DEADZONE%20%3D%20i%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deadzoneButton(%7B%20i%20%7D)%20%7B%0A%20%20%20%20%20%20BUTTON_DEADZONE%20%3D%20i%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getdeadzone(%7B%20i%20%7D)%20%7B%0A%20%20%20%20%20%20return%20AXIS_DEADZONE%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getdeadzoneButton(%7B%20i%20%7D)%20%7B%0A%20%20%20%20%20%20return%20BUTTON_DEADZONE%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20GamepadExtension())%3B%0A%7D)(Scratch)%3B%0A
data:application/javascript,%2F%2F%20Name%3A%20Extendable%20Blocks%0A%2F%2F%20ID%3A%20cst1229extendable%0A%2F%2F%20Description%3A%20Blocks%20with%20a%20variable%20number%20of%20inputs.%0A%2F%2F%20By%3A%20CST1229%20%3Chttps%3A%2F%2Fscratch.mit.edu%2Fusers%2FCST1229%2F%3E%0A%0A(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20%7B%0A%20%20%20%20throw%20new%20Error(%22Extendable%20Blocks%20must%20be%20run%20unsandboxed%22)%3B%0A%20%20%7D%0A%0A%20%20const%20exId%20%3D%20%22cst1229extendable%22%3B%0A%0A%20%20%2F%2F%20A%20high%20branchCount%20for%20old%20compiler%20versions%0A%20%20const%20MAX_EXTENDABLE_BRANCHES%20%3D%2075%3B%0A%0A%20%20const%20menuIconURI%20%3D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhodG1sPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmlld0JveD0iMCAwIDQwIDQwIj48Y2lyY2xlIGN4PSIyMCIgY3k9IjIwIiByPSIxOCIgZmlsbD0iIzU5YzA1OSIgc3Ryb2tlPSIjMzg5NDM4IiBzdHJva2Utd2lkdGg9IjQiIHBhaW50LW9yZGVyPSJzdHJva2UgbWFya2VycyBmaWxsIiBzdHlsZT0iZm9udC12YXJpYXRpb24tc2V0dGluZ3M6bm9ybWFsIi8%2BPGltYWdlIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QmtZWFJoTFc1aGJXVTlJa3hoZVdWeUlERWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SWdkbWxsZDBKdmVEMGlNQ0F3SURFd0lERXpJaUIwY21GdWMyWnZjbTA5SW5OallXeGxLQzB4TENBeEtTSStQSEJoZEdnZ1pEMGlUVE11TmpVdU1UUTFZVEl1TkRFZ01pNDBNU0F3SURBZ01TQXhMamN5TGpjeGJETXVPVElnTXk0NU1tRXlMalExSURJdU5EVWdNQ0F3SURFZ01DQXpMalExYkMwekxqa3lJRE11T1RGaE1pNDBNaUF5TGpReUlEQWdNQ0F4TFRFdU56SXVOeklnTWk0ME9DQXlMalE0SURBZ01DQXhMVEV1TnpNdExqY3hZeTB1TWpRdExqSTVMUzQzTVMwdU56SXRMamN4TFRVdU5qVWdNQzAwTGprekxqUTJMVFV1TXprdU56RXROUzQyTkdFeUxqUTBJREl1TkRRZ01DQXdJREVnTVM0M015MHVOekY2SWlCbWFXeHNQU0lqTWpNeFpqSXdJaUJ2Y0dGamFYUjVQU0l1TVNJdlBqeHdZWFJvSUdROUlrMDRMams0TlNBMkxqVXhZVEV1TkRNZ01TNDBNeUF3SURBZ01TMHVORElnTVd3dE15NDVNaUF6TGprMFlURXVORFFnTVM0ME5DQXdJREFnTVMweUlEQmpMUzQxTmkwdU5UWXRMalUyTFRrdU16RWdNQzA1TGpnM1lURXVORFFnTVM0ME5DQXdJREFnTVNBeUlEQnNNeTQ1TWlBekxqa3lZVEV1TkRNZ01TNDBNeUF3SURBZ01TQXVORElnTVM0d01Yb2lJR1pwYkd3OUlpTm1abVlpTHo0OEwzTjJaejQ9IiB3aWR0aD0iMTYiIGhlaWdodD0iMzIiIHg9IjQiIHk9IjQiLz48aW1hZ2UgeGxpbms6aHJlZj0iZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCa1lYUmhMVzVoYldVOUlreGhlV1Z5SURFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2RtbGxkMEp2ZUQwaU1DQXdJREV3SURFeklqNDhjR0YwYUNCa1BTSk5NeTQyTlM0eE5EVmhNaTQwTVNBeUxqUXhJREFnTUNBeElERXVOekl1TnpGc015NDVNaUF6TGpreVlUSXVORFVnTWk0ME5TQXdJREFnTVNBd0lETXVORFZzTFRNdU9USWdNeTQ1TVdFeUxqUXlJREl1TkRJZ01DQXdJREV0TVM0M01pNDNNaUF5TGpRNElESXVORGdnTUNBd0lERXRNUzQzTXkwdU56RmpMUzR5TkMwdU1qa3RMamN4TFM0M01pMHVOekV0TlM0Mk5TQXdMVFF1T1RNdU5EWXROUzR6T1M0M01TMDFMalkwWVRJdU5EUWdNaTQwTkNBd0lEQWdNU0F4TGpjekxTNDNNWG9pSUdacGJHdzlJaU15TXpGbU1qQWlJRzl3WVdOcGRIazlJaTR4SWk4K1BIQmhkR2dnWkQwaVRUZ3VPVGcxSURZdU5URmhNUzQwTXlBeExqUXpJREFnTUNBeExTNDBNaUF4YkMwekxqa3lJRE11T1RSaE1TNDBOQ0F4TGpRMElEQWdNQ0F4TFRJZ01HTXRMalUyTFM0MU5pMHVOVFl0T1M0ek1TQXdMVGt1T0RkaE1TNDBOQ0F4TGpRMElEQWdNQ0F4SURJZ01Hd3pMamt5SURNdU9USmhNUzQwTXlBeExqUXpJREFnTUNBeElDNDBNaUF4TGpBeGVpSWdabWxzYkQwaUkyWm1aaUl2UGp3dmMzWm5QZz09IiB3aWR0aD0iMTYiIGhlaWdodD0iMzIiIHg9IjIwIiB5PSI0Ii8%2BPC9zdmc%2B%22%3B%0A%0A%20%20class%20ExtendableBlocks%20%7B%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20exId%2C%0A%20%20%20%20%20%20%20%20name%3A%20%22Extendable%20Blocks%22%2C%0A%20%20%20%20%20%20%20%20menuIconURI%3A%20menuIconURI%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22extendJoin%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22cst1229extendable.join%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22join%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Part%20of%20the%20extendable%20join%20block.%20Text%20inputs%20follow%20after%20this%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mutator%3A%20%22cst_extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_operators%22%2C%20%22cst_extendable_string%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22extendSum%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20This%20text%20will%20never%20actually%20be%20seen%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20(as%20it%20is%20removed%20by%20the%20mutator)%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%2B%20extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mutator%3A%20%22cst_extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22colours_operators%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cst_extendable_number%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cst_extendable_clear%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22extendMinus%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22-%20extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mutator%3A%20%22cst_extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22colours_operators%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cst_extendable_number%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cst_extendable_clear%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22extendProduct%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22*%20extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mutator%3A%20%22cst_extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22colours_operators%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cst_extendable_number%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cst_extendable_clear%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22extendDivide%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%2F%20extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mutator%3A%20%22cst_extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22colours_operators%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cst_extendable_number%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cst_extendable_clear%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22extendAnd%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22and%20extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mutator%3A%20%22cst_extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22colours_operators%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cst_extendable_boolean%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cst_extendable_clear%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22extendOr%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22or%20extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mutator%3A%20%22cst_extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22colours_operators%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cst_extendable_boolean%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cst_extendable_clear%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22extendLess%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%3C%20extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mutator%3A%20%22cst_extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22colours_operators%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cst_extendable_string%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cst_extendable_clear%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22extendEqual%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%3D%20extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mutator%3A%20%22cst_extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22colours_operators%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cst_extendable_string%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cst_extendable_clear%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22extendGreater%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%3E%20extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mutator%3A%20%22cst_extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22colours_operators%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cst_extendable_string%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cst_extendable_clear%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22extendArray%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22cst1229extendable.createjsonarray%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22create%20json%20array%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Part%20of%20the%20create%20JSON%20array%20block.%20Text%20inputs%20follow%20after%20this%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mutator%3A%20%22cst_extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_operators%22%2C%20%22cst_extendable_string%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22runBranch%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.CONDITIONAL%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22cst1229extendable.runbranch%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22run%20branch%20%5BBRANCH%5D%20of%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Part%20of%20the%20run%20branch%20of%20block.%20C%20block%20inputs%20follow%20after%20this%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BRANCH%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20branchCount%3A%20MAX_EXTENDABLE_BRANCHES%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mutator%3A%20%22cst_extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%2C%20%22cst_extendable_branch%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22extendIf%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.CONDITIONAL%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22cst1229extendable.if%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22if%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Part%20of%20the%20extendable%20if%20block%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20branchCount%3A%20MAX_EXTENDABLE_BRANCHES%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mutator%3A%20%22cst_extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%2C%20%22cst_extendable_if%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22extendIfElse%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.CONDITIONAL%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22cst1229extendable.ifelseif%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22if%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Part%20of%20the%20extendable%20if-else%20block%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20branchCount%3A%20MAX_EXTENDABLE_BRANCHES%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mutator%3A%20%22cst_extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%2C%20%22cst_extendable_if_else%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22extendSwitch%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.CONDITIONAL%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22cst1229extendable.switch%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22switch%20%5BVALUE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Part%20of%20the%20extendable%20switch%20block%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20branchCount%3A%20MAX_EXTENDABLE_BRANCHES%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mutator%3A%20%22cst_extendable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%2C%20%22cst_extendable_switch%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20extendJoin(args)%20%7B%0A%20%20%20%20%20%20const%20prefix%20%3D%20%22ARG%22%3B%0A%20%20%20%20%20%20let%20string%20%3D%20%22%22%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20prefix%20%2B%20i%20in%20args%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20string%20%2B%3D%20Scratch.Cast.toString(args%5Bprefix%20%2B%20i%5D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20string%3B%0A%20%20%20%20%7D%0A%20%20%20%20extendSum(args)%20%7B%0A%20%20%20%20%20%20const%20prefix%20%3D%20%22ARG%22%3B%0A%20%20%20%20%20%20let%20number%20%3D%200%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20prefix%20%2B%20i%20in%20args%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20number%20%2B%3D%20Scratch.Cast.toNumber(args%5Bprefix%20%2B%20i%5D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20number%3B%0A%20%20%20%20%7D%0A%20%20%20%20extendProduct(args)%20%7B%0A%20%20%20%20%20%20const%20prefix%20%3D%20%22ARG%22%3B%0A%20%20%20%20%20%20let%20number%20%3D%201%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20prefix%20%2B%20i%20in%20args%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20number%20*%3D%20Scratch.Cast.toNumber(args%5Bprefix%20%2B%20i%5D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20number%3B%0A%20%20%20%20%7D%0A%20%20%20%20extendMinus(args)%20%7B%0A%20%20%20%20%20%20const%20prefix%20%3D%20%22ARG%22%3B%0A%20%20%20%20%20%20let%20number%20%3D%20Scratch.Cast.toNumber(args%5Bprefix%20%2B%200%5D)%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%201%3B%20prefix%20%2B%20i%20in%20args%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20number%20-%3D%20Scratch.Cast.toNumber(args%5Bprefix%20%2B%20i%5D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20number%3B%0A%20%20%20%20%7D%0A%20%20%20%20extendDivide(args)%20%7B%0A%20%20%20%20%20%20const%20prefix%20%3D%20%22ARG%22%3B%0A%20%20%20%20%20%20let%20number%20%3D%20Scratch.Cast.toNumber(args%5Bprefix%20%2B%200%5D)%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%201%3B%20prefix%20%2B%20i%20in%20args%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20number%20%2F%3D%20Scratch.Cast.toNumber(args%5Bprefix%20%2B%20i%5D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20number%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20The%20compiler%20does%20some%20weird%20stuff%20with%20arguments%0A%20%20%20%20%2F%2F%20(this%20is%20not%20the%20case%20in%20the%20interpreter%2C%20so%0A%20%20%20%20%2F%2F%20this%20*is*%20a%20parity%20issue)%0A%20%20%20%20fixCompilerArgs(args%2C%20util%2C%20prefix%20%3D%20%22%22)%20%7B%0A%20%20%20%20%20%20%2F%2F%20Copy%20the%20object%20just%20in%20case%0A%20%20%20%20%20%20args%20%3D%20Object.assign(%7B%7D%2C%20args)%3B%0A%0A%20%20%20%20%20%20const%20blocks%20%3D%20util.target.blocks%3B%0A%20%20%20%20%20%20%2F%2F%20In%20the%20compiler%2C%20thread.peekStack%20works%20for%20reporter%20blocks%0A%20%20%20%20%20%20const%20block%20%3D%20blocks.getBlock(util.thread.peekStack())%3B%0A%20%20%20%20%20%20if%20(!block)%20return%20args%3B%0A%20%20%20%20%20%20for%20(const%20key%20in%20args)%20%7B%0A%20%20%20%20%20%20%20%20if%20(key.toString().startsWith(prefix))%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20input%20%3D%20block.inputs%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(!input)%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20const%20inputBlock%20%3D%20blocks.getBlock(input.block)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20shadowBlock%20%3D%20blocks.getBlock(input.shadow)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20shadowBlock%3F.opcode%20%3D%3D%3D%20%22text%22%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20(!inputBlock%20%7C%7C%20inputBlock%3F.opcode%20%3D%3D%3D%20%22text%22)%0A%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20args%5Bkey%5D%20%3D%20Scratch.Cast.toString(args%5Bkey%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20args%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20extendArray(args%2C%20util)%20%7B%0A%20%20%20%20%20%20let%20i%20%3D%200%3B%0A%20%20%20%20%20%20const%20prefix%20%3D%20%22ARG%22%3B%0A%20%20%20%20%20%20const%20array%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20%20%20if%20(util.thread.isCompiled)%20%7B%0A%20%20%20%20%20%20%20%20args%20%3D%20this.fixCompilerArgs(args%2C%20util%2C%20prefix)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20prefix%20%2B%20i%20in%20args%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20array.push(args%5Bprefix%20%2B%20i%5D)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(array)%3B%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%5B%5D%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20extendAnd(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20mutation%20%3D%20this.getCurrentMutation(args%2C%20util)%3B%0A%20%20%20%20%20%20const%20inputCount%20%3D%20Scratch.Cast.toNumber(mutation%3F.inputcount)%3B%0A%20%20%20%20%20%20if%20(inputCount%20%3C%3D%200)%20return%20false%3B%0A%0A%20%20%20%20%20%20const%20prefix%20%3D%20%22ARG%22%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20inputCount%20%2B%201%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20if%20(!args%5Bprefix%20%2B%20i%5D)%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%20%20%20%20extendOr(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20mutation%20%3D%20this.getCurrentMutation(args%2C%20util)%3B%0A%20%20%20%20%20%20const%20inputCount%20%3D%20Scratch.Cast.toNumber(mutation%3F.inputcount)%3B%0A%20%20%20%20%20%20if%20(inputCount%20%3C%3D%200)%20return%20false%3B%0A%0A%20%20%20%20%20%20const%20prefix%20%3D%20%22ARG%22%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20inputCount%20%2B%201%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20if%20(args%5Bprefix%20%2B%20i%5D)%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20extendLess(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20prefix%20%3D%20%22ARG%22%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%201%3B%20prefix%20%2B%20i%20in%20args%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20const%20a%20%3D%20args%5Bprefix%20%2B%20(i%20-%201)%5D%3B%0A%20%20%20%20%20%20%20%20const%20b%20%3D%20args%5Bprefix%20%2B%20i%5D%3B%0A%20%20%20%20%20%20%20%20if%20(Scratch.Cast.compare(a%2C%20b)%20%3E%3D%200)%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%20%20%20%20extendEqual(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20prefix%20%3D%20%22ARG%22%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%201%3B%20prefix%20%2B%20i%20in%20args%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20const%20a%20%3D%20args%5Bprefix%20%2B%20(i%20-%201)%5D%3B%0A%20%20%20%20%20%20%20%20const%20b%20%3D%20args%5Bprefix%20%2B%20i%5D%3B%0A%20%20%20%20%20%20%20%20if%20(Scratch.Cast.compare(a%2C%20b)%20!%3D%3D%200)%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%20%20%20%20extendGreater(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20prefix%20%3D%20%22ARG%22%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%201%3B%20prefix%20%2B%20i%20in%20args%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20const%20a%20%3D%20args%5Bprefix%20%2B%20(i%20-%201)%5D%3B%0A%20%20%20%20%20%20%20%20const%20b%20%3D%20args%5Bprefix%20%2B%20i%5D%3B%0A%20%20%20%20%20%20%20%20if%20(Scratch.Cast.compare(a%2C%20b)%20%3C%3D%200)%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20runBranch(args%2C%20util)%20%7B%0A%20%20%20%20%20%20util.startBranch(Scratch.Cast.toNumber(args.BRANCH))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20extendIf(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20mutation%20%3D%20this.getCurrentMutation(args%2C%20util)%3B%0A%20%20%20%20%20%20const%20inputCount%20%3D%20Scratch.Cast.toNumber(mutation%3F.inputcount)%3B%0A%20%20%20%20%20%20const%20prefix%20%3D%20%22CONDITION%22%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20inputCount%20%2B%201%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20if%20(args%5Bprefix%20%2B%20i%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20util.startBranch(i%20%2B%201)%3B%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20extendIfElse(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20mutation%20%3D%20this.getCurrentMutation(args%2C%20util)%3B%0A%20%20%20%20%20%20const%20inputCount%20%3D%20Scratch.Cast.toNumber(mutation%3F.inputcount)%3B%0A%20%20%20%20%20%20const%20prefix%20%3D%20%22CONDITION%22%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20inputCount%20%2B%201%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20if%20(args%5Bprefix%20%2B%20i%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20util.startBranch(i%20%2B%201)%3B%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20util.startBranch(inputCount%20%2B%202)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20extendSwitch(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20mutation%20%3D%20this.getCurrentMutation(args%2C%20util)%3B%0A%20%20%20%20%20%20const%20inputCount%20%3D%20Scratch.Cast.toNumber(mutation%3F.inputcount)%3B%0A%0A%20%20%20%20%20%20const%20value%20%3D%20args.VALUE%3B%0A%20%20%20%20%20%20const%20prefix%20%3D%20%22CASE_VALUE%22%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20inputCount%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20if%20(Scratch.Cast.compare(value%2C%20args%5Bprefix%20%2B%20i%5D)%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20util.startBranch(i%20%2B%201)%3B%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20util.startBranch(inputCount%20%2B%201)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getCurrentMutation(args%2C%20util)%20%7B%0A%20%20%20%20%20%20%2F%2F%20In%20the%20interpreter%2C%20args.mutation%20exists%20(thanks%20FurryR%20for%20notifying%20me%20about%20this%2C%20yes%20that's%20their%20username)%2C%0A%20%20%20%20%20%20%2F%2F%20and%20in%20the%20compiler%2C%20util.thread.peekStack()%20works%20for%20reporters%0A%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20args.mutation%20%7C%7C%0A%20%20%20%20%20%20%20%20util.target.blocks.getBlock(util.thread.peekStack())%3F.mutation%20%7C%7C%0A%20%20%20%20%20%20%20%20Scratch.vm.runtime.flyoutBlocks.getBlock(util.thread.peekStack())%0A%20%20%20%20%20%20%20%20%20%20%3F.mutation%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20Based%20on%20https%3A%2F%2Fgithub.com%2FXeltalliv%2Fextensions%2Fblob%2Fexamples%2Fexamples%2Fextension-colors.js%0A%20%20%2F%2F%20Add%20%60mutator%60%0A%20%20const%20runtime%20%3D%20Scratch.vm.runtime%3B%0A%20%20%2F%2F%20%40ts-ignore%0A%20%20const%20cbfsb%20%3D%20runtime._convertBlockForScratchBlocks.bind(runtime)%3B%0A%20%20%2F%2F%20%40ts-ignore%0A%20%20runtime._convertBlockForScratchBlocks%20%3D%20function%20(blockInfo%2C%20categoryInfo)%20%7B%0A%20%20%20%20const%20res%20%3D%20cbfsb(blockInfo%2C%20categoryInfo)%3B%0A%20%20%20%20if%20(blockInfo.mutator)%20%7B%0A%20%20%20%20%20%20res.json.mutator%20%3D%20blockInfo.mutator%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20res%3B%0A%20%20%7D%3B%0A%0A%20%20function%20patchSB()%20%7B%0A%20%20%20%20%2F%2F%20%40ts-ignore%0A%20%20%20%20const%20ScratchBlocks%20%3D%20window%3F.ScratchBlocks%3B%0A%20%20%20%20if%20(!ScratchBlocks)%20return%3B%0A%0A%20%20%20%20Scratch.vm.removeListener(%22EXTENSION_ADDED%22%2C%20patchSB)%3B%0A%20%20%20%20Scratch.vm.removeListener(%22BLOCKSINFO_UPDATE%22%2C%20patchSB)%3B%0A%0A%20%20%20%20const%20leftArrowIcon%20%3D%20%60data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyBkYXRhLW5hbWU9IkxheWVyIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEwIDEzIiB0cmFuc2Zvcm09InNjYWxlKC0xLCAxKSI%2BPHBhdGggZD0iTTMuNjUuMTQ1YTIuNDEgMi40MSAwIDAgMSAxLjcyLjcxbDMuOTIgMy45MmEyLjQ1IDIuNDUgMCAwIDEgMCAzLjQ1bC0zLjkyIDMuOTFhMi40MiAyLjQyIDAgMCAxLTEuNzIuNzIgMi40OCAyLjQ4IDAgMCAxLTEuNzMtLjcxYy0uMjQtLjI5LS43MS0uNzItLjcxLTUuNjUgMC00LjkzLjQ2LTUuMzkuNzEtNS42NGEyLjQ0IDIuNDQgMCAwIDEgMS43My0uNzF6IiBmaWxsPSIjMjMxZjIwIiBvcGFjaXR5PSIuMSIvPjxwYXRoIGQ9Ik04Ljk4NSA2LjUxYTEuNDMgMS40MyAwIDAgMS0uNDIgMWwtMy45MiAzLjk0YTEuNDQgMS40NCAwIDAgMS0yIDBjLS41Ni0uNTYtLjU2LTkuMzEgMC05Ljg3YTEuNDQgMS40NCAwIDAgMSAyIDBsMy45MiAzLjkyYTEuNDMgMS40MyAwIDAgMSAuNDIgMS4wMXoiIGZpbGw9IiNmZmYiLz48L3N2Zz4%3D%60%3B%0A%20%20%20%20const%20rightArrowIcon%20%3D%20%60data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyBkYXRhLW5hbWU9IkxheWVyIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEwIDEzIj48cGF0aCBkPSJNMy42NS4xNDVhMi40MSAyLjQxIDAgMCAxIDEuNzIuNzFsMy45MiAzLjkyYTIuNDUgMi40NSAwIDAgMSAwIDMuNDVsLTMuOTIgMy45MWEyLjQyIDIuNDIgMCAwIDEtMS43Mi43MiAyLjQ4IDIuNDggMCAwIDEtMS43My0uNzFjLS4yNC0uMjktLjcxLS43Mi0uNzEtNS42NSAwLTQuOTMuNDYtNS4zOS43MS01LjY0YTIuNDQgMi40NCAwIDAgMSAxLjczLS43MXoiIGZpbGw9IiMyMzFmMjAiIG9wYWNpdHk9Ii4xIi8%2BPHBhdGggZD0iTTguOTg1IDYuNTFhMS40MyAxLjQzIDAgMCAxLS40MiAxbC0zLjkyIDMuOTRhMS40NCAxLjQ0IDAgMCAxLTIgMGMtLjU2LS41Ni0uNTYtOS4zMSAwLTkuODdhMS40NCAxLjQ0IDAgMCAxIDIgMGwzLjkyIDMuOTJhMS40MyAxLjQzIDAgMCAxIC40MiAxLjAxeiIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg%3D%3D%60%3B%0A%20%20%20%20const%20arrowWidth%20%3D%2016%3B%0A%20%20%20%20const%20arrowHeight%20%3D%2032%3B%0A%0A%20%20%20%20class%20FieldImageButton%20extends%20ScratchBlocks.FieldImage%20%7B%0A%20%20%20%20%20%20constructor(src%2C%20width%2C%20height%2C%20callback%2C%20opt_alt%2C%20flip_rtl%2C%20noPadding)%20%7B%0A%20%20%20%20%20%20%20%20super(src%2C%20width%2C%20height%2C%20opt_alt%2C%20flip_rtl)%3B%0A%20%20%20%20%20%20%20%20this._callback%20%3D%20callback.bind(this)%3B%0A%20%20%20%20%20%20%20%20this.noPadding%20%3D%20noPadding%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20init()%20%7B%0A%20%20%20%20%20%20%20%20if%20(this.fieldGroup_)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Image%20has%20already%20been%20initialized%20once.%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20super.init()%3B%0A%20%20%20%20%20%20%20%20this.mouseDownWrapper_%20%3D%20ScratchBlocks.bindEventWithChecks_(%0A%20%20%20%20%20%20%20%20%20%20this.getSvgRoot()%2C%0A%20%20%20%20%20%20%20%20%20%20%22mousedown%22%2C%0A%20%20%20%20%20%20%20%20%20%20this%2C%0A%20%20%20%20%20%20%20%20%20%20this.onMouseDown_%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20this.getSvgRoot().style.cursor%20%3D%20%22pointer%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20showEditor_()%20%7B%0A%20%20%20%20%20%20%20%20if%20(this._callback)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this._callback()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20getSize()%20%7B%0A%20%20%20%20%20%20%20%20if%20(!this.size_.width)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.render_()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(!this.noPadding)%20return%20this.size_%3B%0A%20%20%20%20%20%20%20%20return%20new%20this.size_.constructor(%0A%20%20%20%20%20%20%20%20%20%20Math.max(1%2C%20this.size_.width%20-%20ScratchBlocks.BlockSvg.SEP_SPACE_X)%2C%0A%20%20%20%20%20%20%20%20%20%20this.size_.height%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20EDITABLE%20%3D%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20heavily%20based%20on%20scratch-blocks'%20procedures%20code%0A%20%20%20%20%2F%2F%20https%3A%2F%2Fgithub.com%2FTurboWarp%2Fscratch-blocks%0A%20%20%20%20ScratchBlocks.Extensions.registerMutator(%0A%20%20%20%20%20%20%22cst_extendable%22%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20domToMutation(xmlElement)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.inputCount%20%3D%20Number(xmlElement.getAttribute(%22inputcount%22))%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(isNaN(this.inputCount))%20this.inputCount%20%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20HACK%3A%20fixes%20alt%2Bdrag%20duplicate%20not%20adding%20blocks%20inside%0A%20%20%20%20%20%20%20%20%20%20this.updateDisplay_(true)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20mutationToDom()%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20container%20%3D%20document.createElement(%22mutation%22)%3B%0A%20%20%20%20%20%20%20%20%20%20container.setAttribute(%22inputcount%22%2C%20this.inputCount.toString())%3B%0A%20%20%20%20%20%20%20%20%20%20return%20container%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isExtendableInput(input)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20input.name.startsWith(%22ARROW_%22)%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20this.extendableDefs.some((def)%20%3D%3E%20input.name.startsWith(def.id))%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20this.extendableDefsStart.some((def)%20%3D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20input.name.startsWith(def.id)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20this.extendableDefsEnd.some((def)%20%3D%3E%20input.name.startsWith(def.id))%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Disconnects%20all%20blocks%20in%20extendable%20inputs%2C%20and%20returns%20them.%0A%20%20%20%20%20%20%20%20disconnectOldBlocks_()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Remove%20old%20stuff%0A%20%20%20%20%20%20%20%20%20%20const%20connectionMap%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20for%20(const%20input%20of%20this.inputList)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(input.connection%20%26%26%20this.isExtendableInput(input))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20target%20%3D%20input.connection.targetBlock()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20saveInfo%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20shadow%3A%20input.connection.getShadowDom()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20block%3A%20target%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20connectionMap%5Binput.name%5D%20%3D%20saveInfo%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Remove%20the%20shadow%20DOM%2C%20then%20disconnect%20the%20block.%09Otherwise%20a%20shadow%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20block%20will%20respawn%20instantly%2C%20and%20we'd%20have%20to%20remove%20it%20when%20we%20remove%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20the%20input.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20input.connection.setShadowDom(null)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(target)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20input.connection.disconnect()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20connectionMap%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20removeAllInputs_()%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.inputList%20%3D%20this.inputList.filter((input)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.isExtendableInput(input)%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(input.type%20%3D%3D%3D%20ScratchBlocks.DUMMY_INPUT%20%26%26%20this.clearLabels)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20input.dispose()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Creates%20a%20shadow%20input%20for%20an%20extendable%20definition.%0A%20%20%20%20%20%20%20%20attachShadow_(input%2C%20def)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(!def.shadowType)%20return%3B%0A%20%20%20%20%20%20%20%20%20%20ScratchBlocks.Events.disable()%3B%0A%20%20%20%20%20%20%20%20%20%20let%20newBlock%3B%0A%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock%20%3D%20this.workspace.newBlock(def.shadowType)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.setFieldValue(def.shadowDefault%2C%20def.shadowField)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.setShadow(true)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!this.isInsertionMarker())%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.initSvg()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.render(false)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%20finally%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20ScratchBlocks.Events.enable()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20(ScratchBlocks.Events.isEnabled())%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20ScratchBlocks.Events.fire(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20new%20ScratchBlocks.Events.BlockCreate(newBlock)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20(newBlock.outputConnection)%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.outputConnection.connect(input.connection)%3B%0A%20%20%20%20%20%20%20%20%20%20else%20newBlock.previousConnection.connect(input.connection)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20buildShadowDom_(def)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20shadowDom%20%3D%20document.createElement(%22shadow%22)%3B%0A%20%20%20%20%20%20%20%20%20%20shadowDom.setAttribute(%22type%22%2C%20def.shadowType)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20fieldDom%20%3D%20document.createElement(%22field%22%2C%20null)%3B%0A%20%20%20%20%20%20%20%20%20%20fieldDom.setAttribute(%22name%22%2C%20def.shadowField)%3B%0A%20%20%20%20%20%20%20%20%20%20shadowDom.appendChild(fieldDom)%3B%0A%20%20%20%20%20%20%20%20%20%20return%20shadowDom%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Populates%20an%20argument.%0A%20%20%20%20%20%20%20%20%2F%2F%20Puts%20existing%20blocks%20back%20in%2C%20or%20creates%20new%20ones%0A%20%20%20%20%20%20%20%20populateArgument_(index%2C%20connectionMap%2C%20id%2C%20input%2C%20def)%20%7B%0A%20%20%20%20%20%20%20%20%20%20let%20oldBlock%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20let%20oldShadow%20%3D%20null%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20(connectionMap%20%26%26%20id%20in%20connectionMap)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20saveInfo%20%3D%20connectionMap%5Bid%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20oldBlock%20%3D%20saveInfo%5B%22block%22%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20oldShadow%20%3D%20saveInfo%5B%22shadow%22%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20if%20(connectionMap%20%26%26%20oldBlock)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Reattach%20the%20old%20block%20and%20shadow%20DOM.%0A%20%20%20%20%20%20%20%20%20%20%20%20connectionMap%5Bid%5D%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(oldBlock.outputConnection)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20oldBlock.outputConnection.connect(input.connection)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20oldBlock.previousConnection.connect(input.connection)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(def.shadowType)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20shadowDom%20%3D%20oldShadow%20%7C%7C%20this.buildShadowDom_(def)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20input.connection.setShadowDom(shadowDom)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.attachShadow_(input%2C%20def)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Removes%20unused%20inputs%20from%20the%20VM%0A%20%20%20%20%20%20%20%20cleanInputs()%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20target%20%3D%20Scratch.vm.editingTarget%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(!target)%20return%3B%0A%20%20%20%20%20%20%20%20%20%20const%20blocks%20%3D%20this.isInFlyout%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20Scratch.vm.runtime.flyoutBlocks%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20target.blocks%3B%0A%20%20%20%20%20%20%20%20%20%20const%20vmBlock%20%3D%20blocks.getBlock(this.id)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(!vmBlock)%20return%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20usedInputs%20%3D%20new%20Set(this.inputList.map((i)%20%3D%3E%20i%3F.name))%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20inputs%20%3D%20vmBlock.inputs%3B%0A%20%20%20%20%20%20%20%20%20%20for%20(const%20name%20of%20Object.keys(inputs))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20input%20%3D%20inputs%5Bname%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!usedInputs.has(name))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks.deleteBlock(input.block)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks.deleteBlock(input.shadow)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20delete%20inputs%5Bname%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Gets%20an%20argument%20name%20for%20a%20prefix%20%2B%20index.%0A%20%20%20%20%20%20%20%20getExtendableInput(prefix%2C%20index)%20%7B%0A%20%20%20%20%20%20%20%20%20%20let%20id%20%3D%20prefix%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Special%20handling%20for%20substacks%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20as%20their%20names%20matter%20for%20execution%0A%20%20%20%20%20%20%20%20%20%20if%20(prefix%20%3D%3D%3D%20%22SUBSTACK%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20index%20%2B%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(index%20%3E%201)%20id%20%2B%3D%20index%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%20%2B%3D%20index%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20id%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20The%20internal%20create%20input%20function.%0A%20%20%20%20%20%20%20%20addInput_(def%2C%20i%2C%20connectionMap%20%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20id%20%3D%20this.getExtendableInput(def.id%2C%20i)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20input%20%3D%20this.appendInput_(def.type%2C%20id)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(def.type%20%3D%3D%3D%20ScratchBlocks.DUMMY_INPUT)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20input.appendField(def.check)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(def.check)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20input.setCheck(def.check)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.populateArgument_(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.inputCount%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20connectionMap%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20input%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20def%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20The%20%22user%20create%20input%22%20function.%0A%20%20%20%20%20%20%20%20insertInput()%20%7B%0A%20%20%20%20%20%20%20%20%20%20ScratchBlocks.Events.setGroup(true)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20oldMutation%20%3D%20ScratchBlocks.Xml.domToText(this.mutationToDom())%3B%0A%20%20%20%20%20%20%20%20%20%20this.inputCount%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20const%20plusInputs%20%3D%20this.extendableDefsStart.length%20%3E%200%20%3F%201%20%3A%200%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20reconnect%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(this.extendableDefsEnd.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Reattach%20ending%20blocks%20to%20the%20next%20input%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(const%20def%20of%20this.extendableDefsEnd)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20name%20%3D%20this.getExtendableInput(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20def.id%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.inputCount%20%2B%20plusInputs%20-%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20input%20%3D%20this.inputList.find((i)%20%3D%3E%20i.name%20%3D%3D%20name)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(input%20%26%26%20input.connection%20%26%26%20input.connection.isConnected())%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20block%20%3D%20input.connection.targetBlock()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20block.unplug()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20nextName%20%3D%20this.getExtendableInput(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20def.id%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.inputCount%20%2B%20plusInputs%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reconnect%5BnextName%5D%20%3D%20block%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20this.updateDisplay_()%3B%0A%20%20%20%20%20%20%20%20%20%20for%20(const%20name%20of%20Object.keys(reconnect))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20input%20%3D%20this.inputList.find((i)%20%3D%3E%20i.name%20%3D%3D%20name)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20block%20%3D%20reconnect%5Bname%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(input%20%26%26%20input.connection%20%26%26%20block.workspace)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(block.outputConnection)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20block.outputConnection.connect(input.connection)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20block.previousConnection.connect(input.connection)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20i%20have%20no%20idea%20if%20this%20is%20the%20correct%20way%20or%20not%0A%20%20%20%20%20%20%20%20%20%20const%20newMutation%20%3D%20ScratchBlocks.Xml.domToText(this.mutationToDom())%3B%0A%20%20%20%20%20%20%20%20%20%20const%20ev%20%3D%20new%20ScratchBlocks.Events.BlockChange(%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22mutation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20oldMutation%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20newMutation%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20ScratchBlocks.Events.fire(ev)%3B%0A%20%20%20%20%20%20%20%20%20%20ScratchBlocks.Events.setGroup(false)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%2F%2F%20The%20%22user%20delete%20input%22%20function.%0A%20%20%20%20%20%20%20%20deleteInput()%20%7B%0A%20%20%20%20%20%20%20%20%20%20ScratchBlocks.Events.setGroup(true)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20oldMutation%20%3D%20ScratchBlocks.Xml.domToText(this.mutationToDom())%3B%0A%20%20%20%20%20%20%20%20%20%20this.inputCount--%3B%0A%20%20%20%20%20%20%20%20%20%20const%20plusInputs%20%3D%20this.extendableDefsStart.length%20%3E%200%20%3F%201%20%3A%200%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20reconnect%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(this.extendableDefsEnd.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Reattach%20ending%20blocks%20to%20the%20last%20input%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(const%20def%20of%20this.extendableDefsEnd)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20name%20%3D%20this.getExtendableInput(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20def.id%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.inputCount%20%2B%20plusInputs%20%2B%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20input%20%3D%20this.inputList.find((i)%20%3D%3E%20i.name%20%3D%3D%20name)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(input%20%26%26%20input.connection%20%26%26%20input.connection.isConnected())%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20block%20%3D%20input.connection.targetBlock()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20block.unplug()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20prevName%20%3D%20this.getExtendableInput(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20def.id%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.inputCount%20%2B%20plusInputs%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reconnect%5BprevName%5D%20%3D%20block%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20for%20(const%20def%20of%20this.extendableDefs)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.removeInput(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.getExtendableInput(def.id%2C%20this.inputCount%20%2B%20plusInputs)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20this.updateDisplay_()%3B%0A%20%20%20%20%20%20%20%20%20%20for%20(const%20name%20of%20Object.keys(reconnect))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20input%20%3D%20this.inputList.find((i)%20%3D%3E%20i.name%20%3D%3D%20name)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20block%20%3D%20reconnect%5Bname%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(input%20%26%26%20input.connection%20%26%26%20block.workspace)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(block.outputConnection)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20block.outputConnection.connect(input.connection)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20block.previousConnection.connect(input.connection)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20const%20newMutation%20%3D%20ScratchBlocks.Xml.domToText(this.mutationToDom())%3B%0A%20%20%20%20%20%20%20%20%20%20const%20ev%20%3D%20new%20ScratchBlocks.Events.BlockChange(%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22mutation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20oldMutation%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20newMutation%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20ScratchBlocks.Events.fire(ev)%3B%0A%20%20%20%20%20%20%20%20%20%20ScratchBlocks.Events.setGroup(false)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20this.cleanInputs()%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20createAllInputs_(connectionMap)%20%7B%0A%20%20%20%20%20%20%20%20%20%20let%20index%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(this.extendableDefsStart.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(const%20def%20of%20this.extendableDefsStart)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.addInput_(def%2C%20index%2C%20connectionMap)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20index%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20this.inputCount%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(const%20def%20of%20this.extendableDefs)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.addInput_(def%2C%20index%2C%20connectionMap)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20index%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20index%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20addArrowButtons_()%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this.inputCount%20%3E%20this.minInputs)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20leftInput%20%3D%20this.appendDummyInput(%22ARROW_LEFT%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20leftArrow%20%3D%20new%20FieldImageButton(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20leftArrowIcon%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20arrowWidth%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20arrowHeight%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.sourceBlock_.deleteInput()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Remove%20input%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.inputCount%20%3C%20this.maxInputs%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20leftInput.appendField(leftArrow)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20(this.inputCount%20%3C%20this.maxInputs)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20rightInput%20%3D%20this.appendDummyInput(%22ARROW_RIGHT%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20rightArrow%20%3D%20new%20FieldImageButton(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20rightArrowIcon%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20arrowWidth%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20arrowHeight%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.sourceBlock_.insertInput()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Add%20input%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20false%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20rightInput.appendField(rightArrow)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Updates%20this%20block's%20inputs.%0A%20%20%20%20%20%20%20%20updateDisplay_(force)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20HACK%3A%20prevent%20weird%20stray%20inputs%20from%20appearing%20in%20the%20top%20left%20corner%0A%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20!this.isInsertionMarker()%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20!force%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20this.workspace%3F.currentGesture_%3F.isDraggingBlock_%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20this.workspace%3F.currentGesture_%3F.targetBlock_.type%20%3D%3D%3D%20this.type%0A%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20(this.isInFlyout)%20ScratchBlocks.Events.disable()%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20wasRendered%20%3D%20this.rendered%3B%0A%20%20%20%20%20%20%20%20%20%20this.rendered%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20this.extendableUpdatedDisplay%20%3D%20true%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20First%2C%20disconnect%20any%20old%20blocks%20and%20save%20them%20for%20later%0A%20%20%20%20%20%20%20%20%20%20const%20connectionMap%20%3D%20this.disconnectOldBlocks_()%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Remove%20all%20extendable%20inputs%0A%20%20%20%20%20%20%20%20%20%20this.removeAllInputs_()%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Recreate%20all%20the%20inputs%2C%20and%20if%20any%20inputs%20were%20there%20before%2C%20put%20them%20back%20in%0A%20%20%20%20%20%20%20%20%20%20let%20index%20%3D%20this.createAllInputs_(connectionMap)%3B%0A%20%20%20%20%20%20%20%20%20%20this.addArrowButtons_()%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Add%20the%20ending%20inputs%0A%20%20%20%20%20%20%20%20%20%20for%20(const%20def%20of%20this.extendableDefsEnd)%0A%20%20%20%20%20%20%20%20%20%20%20%20this.addInput_(def%2C%20index%2C%20connectionMap)%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Delete%20any%20unused%20blocks%0A%20%20%20%20%20%20%20%20%20%20ScratchBlocks.ScratchBlocks.ProcedureUtils.deleteShadows_.call(%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20connectionMap%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20this.rendered%20%3D%20wasRendered%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(wasRendered)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.initSvg()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.render()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20if%20(this.isInFlyout)%20ScratchBlocks.Events.enable()%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20An%20array%20of%20extendable%20input%20definitions%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20for%20each%20click%20of%20the%20right%20arrow%20button%2C%0A%20%20%20%20%20%20%20%20%2F%2F%20all%20of%20these%20inputs%20will%20be%20added%0A%20%20%20%20%20%20%20%20this.extendableDefs%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20Inputs%20to%20put%20before%20any%20extendable%20inputs.%0A%20%20%20%20%20%20%20%20%2F%2F%20If%20non-empty%2C%20also%20increases%20the%20maximum%20index%20by%20one%0A%20%20%20%20%20%20%20%20this.extendableDefsStart%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20Inputs%20to%20put%20after%20the%20extendable%20inputs%20(after%20the%20arrow%20buttons).%0A%20%20%20%20%20%20%20%20%2F%2F%20If%20non-empty%2C%20also%20increases%20the%20maximum%20index%20by%20one%0A%20%20%20%20%20%20%20%20this.extendableDefsEnd%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20The%20default%20number%20of%20inputs.%0A%20%20%20%20%20%20%20%20this.inputCount%20%3D%202%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20The%20minimum%20number%20of%20inputs.%0A%20%20%20%20%20%20%20%20this.minInputs%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20The%20maximum%20number%20of%20inputs.%0A%20%20%20%20%20%20%20%20this.maxInputs%20%3D%20Infinity%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20If%20true%2C%20clears%20all%20blockInfo%20labels.%0A%20%20%20%20%20%20%20%20this.clearLabels%20%3D%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20)%3B%0A%0A%20%20%20%20const%20createInput%20%3D%20(%0A%20%20%20%20%20%20type%2C%20%2F%2F%20ScratchBlocks.INPUT_VALUE%2C%20NEXT_STATEMENT%20or%20DUMMY_INPUT%0A%20%20%20%20%20%20id%2C%20%2F%2F%20The%20argument%20ID%20(a%20number%20will%20be%20appended%20to%20this)%0A%20%20%20%20%20%20check%20%3D%20null%2C%20%2F%2F%20null%20or%20%22Boolean%22%20(or%20the%20label%20text%20for%20DUMMY_INPUTs)%0A%20%20%20%20%20%20shadowType%20%3D%20undefined%2C%20%2F%2F%20The%20type%20of%20shadow%20block%20(or%20falsy%20for%20none)%0A%20%20%20%20%20%20shadowField%20%3D%20undefined%2C%20%2F%2F%20The%20field%20to%20use%20in%20the%20shadow%20block%0A%20%20%20%20%20%20shadowDefault%20%3D%20undefined%20%2F%2F%20The%20default%20shadow%20block%20value%0A%20%20%20%20)%20%3D%3E%20(%7B%20type%2C%20id%2C%20check%2C%20shadowType%2C%20shadowField%2C%20shadowDefault%20%7D)%3B%0A%0A%20%20%20%20%2F%2F%20Configuration%20extensions%0A%20%20%20%20ScratchBlocks.Extensions.register(%22cst_extendable_clear%22%2C%20function%20()%20%7B%0A%20%20%20%20%20%20this.clearLabels%20%3D%20true%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20ScratchBlocks.Extensions.register(%22cst_extendable_string%22%2C%20function%20()%20%7B%0A%20%20%20%20%20%20this.extendableDefs%20%3D%20%5B%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.INPUT_VALUE%2C%20%22ARG%22%2C%20null%2C%20%22text%22%2C%20%22TEXT%22%2C%20%22%22)%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20const%20ops%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%5BexId%20%2B%20%22_extendLess%22%5D%3A%20%22%3C%22%2C%0A%20%20%20%20%20%20%20%20%5BexId%20%2B%20%22_extendEqual%22%5D%3A%20%22%3D%22%2C%0A%20%20%20%20%20%20%20%20%5BexId%20%2B%20%22_extendGreater%22%5D%3A%20%22%3E%22%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20if%20(this.type%20in%20ops)%20%7B%0A%20%20%20%20%20%20%20%20const%20op%20%3D%20ops%5Bthis.type%5D%3B%0A%20%20%20%20%20%20%20%20this.extendableDefsStart%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%20%20createInput(%0A%20%20%20%20%20%20%20%20%20%20%20%20ScratchBlocks.INPUT_VALUE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22ARG%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22text%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22TEXT%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%22%0A%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%20%20this.extendableDefs.unshift(%0A%20%20%20%20%20%20%20%20%20%20createInput(ScratchBlocks.DUMMY_INPUT%2C%20%22WORD%22%2C%20op)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20this.inputCount%20%3D%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%20%20ScratchBlocks.Extensions.register(%22cst_extendable_number%22%2C%20function%20()%20%7B%0A%20%20%20%20%20%20const%20defaultValue%20%3D%20%5B%0A%20%20%20%20%20%20%20%20exId%20%2B%20%22_extendProduct%22%2C%0A%20%20%20%20%20%20%20%20exId%20%2B%20%22_extendDivide%22%2C%0A%20%20%20%20%20%20%5D.includes(this.type)%0A%20%20%20%20%20%20%20%20%3F%20%221%22%0A%20%20%20%20%20%20%20%20%3A%20%220%22%3B%0A%0A%20%20%20%20%20%20this.extendableDefs%20%3D%20%5B%0A%20%20%20%20%20%20%20%20createInput(%0A%20%20%20%20%20%20%20%20%20%20ScratchBlocks.INPUT_VALUE%2C%0A%20%20%20%20%20%20%20%20%20%20%22ARG%22%2C%0A%20%20%20%20%20%20%20%20%20%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%22math_number%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22NUM%22%2C%0A%20%20%20%20%20%20%20%20%20%20defaultValue%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20this.minInputs%20%3D%201%3B%0A%0A%20%20%20%20%20%20const%20ops%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%5BexId%20%2B%20%22_extendSum%22%5D%3A%20%22%2B%22%2C%0A%20%20%20%20%20%20%20%20%5BexId%20%2B%20%22_extendMinus%22%5D%3A%20%22-%22%2C%0A%20%20%20%20%20%20%20%20%5BexId%20%2B%20%22_extendProduct%22%5D%3A%20%22*%22%2C%0A%20%20%20%20%20%20%20%20%5BexId%20%2B%20%22_extendDivide%22%5D%3A%20%22%2F%22%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20if%20(ops%5Bthis.type%5D)%20%7B%0A%20%20%20%20%20%20%20%20this.extendableDefsStart%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%20%20createInput(%0A%20%20%20%20%20%20%20%20%20%20%20%20ScratchBlocks.INPUT_VALUE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22ARG%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22math_number%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22NUM%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%0A%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%20%20this.extendableDefs.unshift(%0A%20%20%20%20%20%20%20%20%20%20createInput(ScratchBlocks.DUMMY_INPUT%2C%20%22WORD%22%2C%20ops%5Bthis.type%5D)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20this.inputCount%20%3D%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%20%20ScratchBlocks.Extensions.register(%22cst_extendable_boolean%22%2C%20function%20()%20%7B%0A%20%20%20%20%20%20this.extendableDefs%20%3D%20%5B%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.INPUT_VALUE%2C%20%22ARG%22%2C%20%22Boolean%22)%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20this.type%20%3D%3D%3D%20exId%20%2B%20%22_extendAnd%22%20%7C%7C%0A%20%20%20%20%20%20%20%20this.type%20%3D%3D%3D%20exId%20%2B%20%22_extendOr%22%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20this.extendableDefsStart%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%20%20createInput(ScratchBlocks.INPUT_VALUE%2C%20%22ARG%22%2C%20%22Boolean%22)%2C%0A%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%20%20this.extendableDefs.unshift(%0A%20%20%20%20%20%20%20%20%20%20createInput(%0A%20%20%20%20%20%20%20%20%20%20%20%20ScratchBlocks.DUMMY_INPUT%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22WORD%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20this.type%20%3D%3D%3D%20exId%20%2B%20%22_extendAnd%22%20%3F%20%22and%22%20%3A%20%22or%22%0A%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20this.inputCount%20%3D%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%20%20ScratchBlocks.Extensions.register(%22cst_extendable_branch%22%2C%20function%20()%20%7B%0A%20%20%20%20%20%20this.extendableDefs%20%3D%20%5B%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.NEXT_STATEMENT%2C%20%22SUBSTACK%22%2C%20null)%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20this.inputCount%20%3D%201%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20ScratchBlocks.Extensions.register(%22cst_extendable_if%22%2C%20function%20()%20%7B%0A%20%20%20%20%20%20this.extendableDefsStart%20%3D%20%5B%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.INPUT_VALUE%2C%20%22CONDITION%22%2C%20%22Boolean%22)%2C%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.DUMMY_INPUT%2C%20%22THEN_WORD%22%2C%20%22then%22)%2C%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.NEXT_STATEMENT%2C%20%22SUBSTACK%22%2C%20null)%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20this.extendableDefs%20%3D%20%5B%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.DUMMY_INPUT%2C%20%22ELSE_WORD%22%2C%20%22else%20if%22)%2C%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.INPUT_VALUE%2C%20%22CONDITION%22%2C%20%22Boolean%22)%2C%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.DUMMY_INPUT%2C%20%22THEN_WORD%22%2C%20%22then%22)%2C%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.NEXT_STATEMENT%2C%20%22SUBSTACK%22%2C%20null)%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20this.inputCount%20%3D%200%3B%0A%20%20%20%20%20%20this.minInputs%20%3D%200%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20ScratchBlocks.Extensions.register(%22cst_extendable_if_else%22%2C%20function%20()%20%7B%0A%20%20%20%20%20%20this.extendableDefsStart%20%3D%20%5B%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.INPUT_VALUE%2C%20%22CONDITION%22%2C%20%22Boolean%22)%2C%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.DUMMY_INPUT%2C%20%22THEN_WORD%22%2C%20%22then%22)%2C%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.NEXT_STATEMENT%2C%20%22SUBSTACK%22%2C%20null)%2C%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.DUMMY_INPUT%2C%20%22ELSE_WORD%22%2C%20%22else%22)%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20this.extendableDefs%20%3D%20%5B%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.DUMMY_INPUT%2C%20%22IF_WORD%22%2C%20%22if%22)%2C%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.INPUT_VALUE%2C%20%22CONDITION%22%2C%20%22Boolean%22)%2C%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.DUMMY_INPUT%2C%20%22THEN_WORD%22%2C%20%22then%22)%2C%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.NEXT_STATEMENT%2C%20%22SUBSTACK%22%2C%20null)%2C%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.DUMMY_INPUT%2C%20%22ELSE_WORD%22%2C%20%22else%22)%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20this.extendableDefsEnd%20%3D%20%5B%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.NEXT_STATEMENT%2C%20%22SUBSTACK%22%2C%20null)%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20this.inputCount%20%3D%200%3B%0A%20%20%20%20%20%20this.minInputs%20%3D%200%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20ScratchBlocks.Extensions.register(%22cst_extendable_switch%22%2C%20function%20()%20%7B%0A%20%20%20%20%20%20this.extendableDefs%20%3D%20%5B%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.DUMMY_INPUT%2C%20%22CASE_WORD%22%2C%20%22case%22)%2C%0A%20%20%20%20%20%20%20%20createInput(%0A%20%20%20%20%20%20%20%20%20%20ScratchBlocks.INPUT_VALUE%2C%0A%20%20%20%20%20%20%20%20%20%20%22CASE_VALUE%22%2C%0A%20%20%20%20%20%20%20%20%20%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%22text%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22TEXT%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22%22%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.NEXT_STATEMENT%2C%20%22SUBSTACK%22%2C%20null)%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20this.extendableDefsEnd%20%3D%20%5B%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.DUMMY_INPUT%2C%20%22DEFAULT_WORD%22%2C%20%22default%22)%2C%0A%20%20%20%20%20%20%20%20createInput(ScratchBlocks.NEXT_STATEMENT%2C%20%22SUBSTACK%22%2C%20null)%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20this.inputCount%20%3D%201%3B%0A%20%20%20%20%20%20this.minInputs%20%3D%200%3B%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%2F%2F%20HACK%3A%20fixes%20the%20flyout%2C%20also%20with%20dynamic%20enable%2Fdisable%20addons%0A%20%20%20%20const%20ogInitSvg%20%3D%20ScratchBlocks.BlockSvg.prototype.initSvg%3B%0A%20%20%20%20ScratchBlocks.BlockSvg.prototype.initSvg%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20if%20(this.getExtendableInput%20%26%26%20!this.extendableUpdatedDisplay)%20%7B%0A%20%20%20%20%20%20%20%20this.updateDisplay_()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20ogInitSvg.call(this)%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20https%3A%2F%2Fgithub.com%2FLilyMakesThings%2Fextensions%2Fblob%2F5b9ce572683e403933cab3b23c4a9bbb2a08ecf9%2Fextensions%2FLily%2FDictionaries.js%23L37C1-L45%0A%20%20if%20(!(%22scaffolding%22%20in%20window))%20%7B%0A%20%20%20%20Scratch.vm.on(%22EXTENSION_ADDED%22%2C%20patchSB)%3B%0A%20%20%20%20Scratch.vm.on(%22BLOCKSINFO_UPDATE%22%2C%20patchSB)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20%40ts-ignore%0A%20%20Scratch.extensions.register(new%20ExtendableBlocks())%3B%0A%7D)(Scratch)%3B
https://extensions.turbowarp.org/files.js
https://extensions.turbowarp.org/Lily/LooksPlus.js
https://extensions.turbowarp.org/local-storage.js
https://extensions.turbowarp.org/Lily/ClonesPlus.js
https://extensions.turbowarp.org/obviousAlexC/SensingPlus.js
https://extensions.turbowarp.org/runtime-options.js
https://extensions.turbowarp.org/JeremyGamer13/tween.js
https://extensions.turbowarp.org/Lily/SoundExpanded.js
https://extensions.turbowarp.org/Xeltalliv/clippingblending.js
